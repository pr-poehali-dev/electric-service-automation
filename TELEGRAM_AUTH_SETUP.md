# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram

## üöÄ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

‚úÖ **Telegram Web App –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —Å –≤—ã–±–æ—Ä–æ–º —Ä–æ–ª–∏ (–∫–ª–∏–µ–Ω—Ç/–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è** –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Ä–∞–±–æ—Ç
‚úÖ **–í–∏–¥–∂–µ—Ç –¥–æ—Ö–æ–¥–∞** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤" —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–º–µ—Å—è—Ü/6 –º–µ—Å/–≥–æ–¥)
‚úÖ **Fallback –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ Telegram
‚úÖ **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Ö–æ–¥–∞** –ø–æ –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

## üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ë–ê–õ–¢–°–ï–¢–¨ –≠–ª–µ–∫—Ç—Ä–∏–∫–∞")
   - –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`, –Ω–∞–ø—Ä–∏–º–µ—Ä: `baltset_electric_bot`)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ @BotFather –∫–æ–º–∞–Ω–¥—É `/setdomain`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –í–≤–µ–¥–∏—Ç–µ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `electric-service-automation.poehali.dev`)

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –±–æ—Ç–∞

```
/setmenubutton
–í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
–í–≤–µ–¥–∏—Ç–µ URL: https://electric-service-automation.poehali.dev/role-select
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è

```
/setdescription
–í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ:
"üîå –ë–ê–õ–¢–°–ï–¢–¨ ‚Äî —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –≤ –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥–µ

–ö–ª–∏–µ–Ω—Ç–∞–º:
‚Ä¢ –ó–∞–∫–∞–∑ —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã—Ö —Ä–∞–±–æ—Ç
‚Ä¢ –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–æ–∫

–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º:
‚Ä¢ –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤
‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–∞
‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–º —Ä–∞–±–æ—Ç—ã"
```

### –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –ø—Ä–æ–µ–∫—Ç

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ poehali.dev:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∏–¥–∂–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤—ã—à–µ)
2. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

## üí∞ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–∞

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç

**–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã (30% –¥–æ—Ö–æ–¥–∞):**
- –£—Å–ª—É–≥–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
  - "—ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã"
  - "–º–æ–Ω—Ç–∞–∂"
  - "—É—Å—Ç–∞–Ω–æ–≤–∫–∞"
  - "–ø—Ä–æ–∫–ª–∞–¥–∫–∞ –∫–∞–±–µ–ª—è"
  - "—à—Ç—Ä–æ–±–ª–µ–Ω–∏–µ"
  - "—Å–±–æ—Ä–∫–∞ —â–∏—Ç–∞"
  - "—ç–ª–µ–∫—Ç—Ä–∏–∫–∞ –ø–æ–¥ –∫–ª—é—á"

**–¢–æ–≤–∞—Ä—ã (50% –¥–æ—Ö–æ–¥–∞):**
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏:
  - –í—ã–∫–ª—é—á–∞—Ç–µ–ª–∏
  - –†–æ–∑–µ—Ç–∫–∏
  - –°–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∏
  - –ö–∞–±–µ–ª—å
  - –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã

### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á—ë—Ç–∞

#### –ü—Ä–∏–º–µ—Ä 1: –¢–æ–ª—å–∫–æ –º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
```
–£—Å–ª—É–≥–∞: "–ü—Ä–æ–∫–ª–∞–¥–∫–∞ –∫–∞–±–µ–ª—è 50–º" - 5000 ‚ÇΩ
–î–æ—Ö–æ–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: 5000 √ó 0.3 = 1500 ‚ÇΩ
```

#### –ü—Ä–∏–º–µ—Ä 2: –¢–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã
```
–£—Å–ª—É–≥–∞: "–†–æ–∑–µ—Ç–∫–∞ –¥–≤–æ–π–Ω–∞—è" - 500 ‚ÇΩ √ó 10 —à—Ç = 5000 ‚ÇΩ
–î–æ—Ö–æ–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: 5000 √ó 0.5 = 2500 ‚ÇΩ
```

#### –ü—Ä–∏–º–µ—Ä 3: –°–º–µ—à–∞–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞
```
1. "–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã" - 10000 ‚ÇΩ
   –î–æ—Ö–æ–¥: 10000 √ó 0.3 = 3000 ‚ÇΩ

2. "–†–æ–∑–µ—Ç–∫–∞ –¥–≤–æ–π–Ω–∞—è" - 500 ‚ÇΩ √ó 10 = 5000 ‚ÇΩ
   –î–æ—Ö–æ–¥: 5000 √ó 0.5 = 2500 ‚ÇΩ

–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: 15000 ‚ÇΩ
–î–æ—Ö–æ–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: 5500 ‚ÇΩ (36.7%)
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–∞—Ç—å "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" –≤ –º–µ–Ω—é
3. –í—ã–±—Ä–∞—Ç—å —Ä–æ–ª—å "–Ø –∫–ª–∏–µ–Ω—Ç"
4. –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
5. –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å

### –î–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π

1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–∞—Ç—å "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" –≤ –º–µ–Ω—é
3. –í—ã–±—Ä–∞—Ç—å —Ä–æ–ª—å "–Ø –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å"
4. –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
5. –í–∏–¥–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–∫–∞–∑—ã –∏ —Å–≤–æ–π –¥–æ—Ö–æ–¥

## üéØ –í–∏–¥–∂–µ—Ç –¥–æ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤"

–î–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–∏–¥–∂–µ—Ç —Å:

- **–í—ã–ø–æ–ª–Ω–µ–Ω–æ** - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –¥–æ—Ö–æ–¥ –ø–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º –∑–∞—è–≤–∫–∞–º
- **–û–∂–∏–¥–∞–µ—Ç—Å—è** - –ø—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–∞ –ø–æ –∑–∞—è–≤–∫–∞–º –≤ —Ä–∞–±–æ—Ç–µ
- **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è**:
  - –ú–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã (30%)
  - –¢–æ–≤–∞—Ä—ã (50%)
- **–§–∏–ª—å—Ç—Ä—ã**: –º–µ—Å—è—Ü / 6 –º–µ—Å—è—Ü–µ–≤ / –≥–æ–¥

### –ì–¥–µ –≤–∏–¥–Ω–æ

‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤"** - –æ–±—â–∏–π –≤–∏–¥–∂–µ—Ç –¥–æ—Ö–æ–¥–∞
‚úÖ **–î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏** - –¥–æ—Ö–æ–¥ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞—è–≤–∫–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –¢–æ–∫–µ–Ω –±–æ—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ –≤ –∫–æ–¥–µ)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ Telegram WebApp –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–≤–æ–µ–º—É Telegram ID

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ Telegram

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/role-select`
2. –í—ã–±—Ä–∞—Ç—å —Ä–æ–ª—å
3. –ï—Å–ª–∏ Telegram WebApp –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç/–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å"
4. –°–æ–∑–¥–∞—ë—Ç—Å—è –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### Backend —Ñ—É–Ω–∫—Ü–∏—è
- **URL**: `https://functions.poehali.dev/bf3448cf-216e-4b95-882c-e2d877a5c34d`
- **–ú–µ—Ç–æ–¥**: POST
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "initData": "query_id=...",
  "role": "client" | "executor"
}
```

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `src/pages/RoleSelection.tsx` - –≤—ã–±–æ—Ä —Ä–æ–ª–∏
- `src/components/auth/TelegramAuthButton.tsx` - –∫–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `src/components/executor/EarningsWidget.tsx` - –≤–∏–¥–∂–µ—Ç –¥–æ—Ö–æ–¥–∞
- `src/utils/executorEarnings.ts` - —Ä–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–∞

### –¢–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `client` - –∫–ª–∏–µ–Ω—Ç (—Å–æ–∑–¥–∞—ë—Ç –∑–∞—è–≤–∫–∏)
- `executor` - –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (–≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞—è–≤–∫–∏, –≤–∏–¥–∏—Ç –¥–æ—Ö–æ–¥)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- Telegram: https://t.me/+QgiLIa1gFRY4Y2Iy
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://docs.poehali.dev

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-11-06
